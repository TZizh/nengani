{% extends "base.html" %} {% block title %}Home{% endblock %} 


{% block content %}

<div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://supertravelme.com/wp-content/uploads/2017/09/Emirates-Premium-Class-Amenity-Kit-Pouches-1G7A5864.jpg"
           class="d-block w-100" alt="Small bag">
      <div class="carousel-caption d-none d-md-block">
        <h5>Small bag</h5>
        <p>Our small bag option with a maximum of 5 items</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://lp-cms-production.imgix.net/image_browser/Singapore%20Airlines%20offers%20a%20Lalique%20Ne%CC%81roli%20scented%20candle%20in%20first%20class.%20Image%20-%20Formia.jpg" class="d-block w-100" alt="Medium bag">
      <div class="carousel-caption d-none d-md-block">
        <h5>Medium bag</h5>
        <p>Our Medium bag option with a maximum of 8 items</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://robbreport.com/wp-content/uploads/2023/08/emiratesfirstclassamenitykits2023tanandblack.jpg?w=1000"
           class="d-block w-100" alt="Large bag">
      <div class="carousel-caption d-none d-md-block">
        <h5>Large bag</h5>
        <p>Our Large bag option with a maximum of 15 items</p>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<div class="row row-cols-1 row-cols-md-2 g-4">

  {% for item in itemz %}

  <div class="col">
    <div class="card">
      <img src="{{item.img_src}}" class="card-img-top" alt="{{item.name}}">
      <div class="card-body">
        <h5 class="card-title">{{item.name}}</h5>
        <p class="card-text">Going for ${{item.price}}</p>
        <!-- Button trigger for More info modal -->
        <button type="button" class="btn btn-outline btn-secondary " data-bs-toggle="modal" data-bs-target="#MoreInfo-Modal-{{ item.id }}">
          More info
        </button>
        <!-- Button trigger for add to bag confirm modal -->
        <button type="button" class="btn btn-success " data-bs-toggle="modal" data-bs-target="#AddToBagConfirm-Modal-{{ item.id }}">
          Add to bag  <span><i class="bi bi-backpack3"></i></span>
        </button>

        <style>
          .modal-content {
            background-color: antiquewhite;
          }
        </style>

        <!-- Modal for more info -->
        <div class="modal fade" id="MoreInfo-Modal-{{ item.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">{{ item.name }}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                {{ item.description }}
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal for add to bag confirm -->
        <div class="modal fade" id="AddToBagConfirm-Modal-{{ item.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Confirmation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form method="POST">
                  <div class="d-lg-none">{{ purchase_form.hidden_tag }}</div>
                  <h4 class="text-center">
                    Are you sure you want to add {{ item.name }} to your bag for ${{ item.price }} ?
                  </h4>
                  <br>
                  <h6 class="text-center">
                    By clicking Add to bag, item will be added to bag.
                  </h6>
                  <br>
                  <input id="purchased_item" name="purchased_item" type="hidden" value="{{ item.name }}">
                  {{ purchase_form.submit(class="btn btn-success btn-block") }}
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
              </div>
            </div>
          </div>
        </div>        
        
      </div>
    </div>
  </div>



  {% endfor %}

</div>


{% endblock %}